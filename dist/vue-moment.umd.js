(function(u){typeof define=="function"&&define.amd?define(u):u()})(function(){"use strict";const u=(o,l)=>{o=Array.prototype.slice.call(o);const i=o.shift();let e;if(Array.isArray(i)&&typeof i[0]=="string"?e=l(i[0],i[1],!0):typeof i=="number"&&i.toString().length<12?e=l.unix(i):e=l(i),!i||!e.isValid())return console.warn("Could not build a valid `moment` object from input."),i;function s(...t){t=Array.prototype.slice.call(t);const c=t.shift();switch(c){case"add":{const n=t.shift().split(",").map(Function.prototype.call,String.prototype.trim),f={};for(let r=0;r<n.length;r++){const d=n[r].split(" ");f[d[1]]=d[0]}e.add(f);break}case"subtract":{const n=t.shift().split(",").map(Function.prototype.call,String.prototype.trim),f={};for(let r=0;r<n.length;r++){const d=n[r].split(" ");f[d[1]]=d[0]}e.subtract(f);break}case"from":{let n="now",f=!1;t[0]==="now"&&t.shift(),l(t[0]).isValid()&&(n=l(t.shift())),t[0]===!0&&(t.shift(),f=!0),n!=="now"?e=e.from(n,f):e=e.fromNow(f);break}case"diff":{let n=l(),f="",r=!1;l(t[0]).isValid()?n=l(t.shift()):(t[0]===null||t[0]==="now")&&t.shift(),t[0]&&(f=t.shift()),t[0]===!0&&(r=t.shift()),e=e.diff(n,f,r);break}case"calendar":{let n=l(),f={};l(t[0]).isValid()?n=l(t.shift()):(t[0]===null||t[0]==="now")&&t.shift(),typeof t[0]=="object"&&(f=t.shift()),e=e.calendar(n,f);break}case"utc":{e.utc();break}case"timezone":{e.tz(t.shift());break}default:{const n=c;e=e.format(n)}}t.length&&s.apply(s,t)}return s.apply(s,o),e},a=(o,l)=>{o=Array.prototype.slice.call(o);const i=o.shift(),e=o.shift();function s(c){Array.isArray(c)||(c=[c]);const n=l.duration(...c);return n.isValid()||console.warn("Could not build a valid `duration` object from input."),n}let t=s(i);if(e==="add"||e==="subtract"){const c=s(o);t[e](c)}else t&&t[e]&&(t=t[e](...o));return t};module.exports={install(o,l){const i=l&&l.moment?l.moment:require("moment");parseInt(o.version,4)>=3?(o.config.globalProperties.moment=i,o.config.globalProperties.$moment=(...e)=>u(e,i),o.config.globalProperties.$duration=(...e)=>a(e,i)):(o.prototype.moment=i,o.prototype.$moment=(...e)=>u(e,i),o.prototype.$duration=(...e)=>a(e,i)),o.moment=i}}});
